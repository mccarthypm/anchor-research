## IncomeTaxes

**Year Ended**

|  | Dec 31, 2024 | Dec 31, 2023 | Dec 31, 2022 |
| --- | --- | --- | --- |
| **  Income Taxes** | Income Taxes

Our income before provision for (benefit from) income taxes for the years ended 
December 31, 2024, 2023 and 2022 was as follows (in millions):

                                                                      Year Ended
December 31,                                                        
                                                                      2024      
2023                 2022              
 ───────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────
  Domestic                                                            $         
2,292      $         3,196      $          5,524  
  Noncontrolling interest and redeemable noncontrolling interest      62        
(23)                 31                
  Foreign                                                                       
6,636                6,800                 8,164  
  Income before income taxes                                          $         
8,990      $         9,973      $         13,719  

A provision for (benefit from) income taxes of $1.84 billion, $(5.00) billion 
and $1.13 billion has been recognized for the years ended December 31, 2024, 
2023 and 2022, respectively. The components of the provision for (benefit from) 
income taxes for the years ended December 31, 2024, 2023 and 2022 consisted of 
the following (in millions):

                                                       Year Ended December 31,  
                                                                          2024  
2023                     2022             
 ───────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────
  Current:                                                                      
  Federal                                                                    $  
—      $               48          $          —  
  State                                                                     45  
57                         62             
  Foreign                                                                       
1,315                   1,243                 1,266  
  Total current                                                                 
1,360                   1,348                 1,328  
  Deferred:                                                                     
  Federal                                                                  831  
(5,246)         26             
  State                                                                   (49)  
(653)                       1             
  Foreign                                                                (305)  
(450)                   (223)             
  Total deferred                                                           477  
(6,349)      (196)             
  Total provision for (benefit from) income taxes                            $  
1,837      $          (5,001)          $      1,132  

The reconciliation of taxes at the federal statutory rate to our provision for 
(benefit from) income taxes for the years ended December 31, 2024, 2023 and 2022
was as follows (in millions):

                                                               Year Ended 
December 31,                                                             
                                                                                
  2024                  2023                    2022               
 ───────────────────────────────────────────────────────────────────────────────
────────────────────────────────────────────────────────────────────
  Tax at statutory federal rate                                                 
$      1,887          $        2,094          $        2,881  
  State tax, net of federal benefit                                             
8                 (372)                      51               
  Excess tax benefits related to stock-based compensation                       
(267)                 (288)                   (745)               
  Nontaxable manufacturing credit                                               
(291)                 (101)                       —               
  Foreign income rate differential                                              
(545)                 (816)                   (923)               
  U. S. tax credits                                                             
(317)                 (593)                   (276)               
  GILTI and Subpart F inclusion                                                 
882                   670                                1,279  
  Unrecognized tax benefits                                                     
144                   183                     252               
  Change in valuation allowance                                                 
163                            (5,962)                 (1,532)  
  Other                                                                         
173                   184                     145               
  Provision for (benefit from) income taxes                                     
$      1,837          $      (5,001)          $        1,132  

Deferred tax assets (liabilities) as of December 31, 2024 and 2023 consisted of 
the following (in millions):

                                                                     December 
31,                   December 31,               
  Deferred tax assets:                                                          
  Net operating loss carry-forwards                                  $          
1,295                 $        2,826  
  Research and development credits                                              
1,735                          1,358  
  Other tax credits and attributes                                              
1,325               827               
  Deferred revenue                                                              
1,101                          1,035  
  Inventory and warranty reserves                                               
1,769                          1,258  
  Operating lease right-of-use liabilities                                      
1,186               930               
  Capitalized research and development costs                                    
2,448                          1,344  
  Deferred GILTI tax assets                                          691        
760               
  Other                                                              412        
436               
  Total deferred tax assets                                                     
11,962                         10,774  
  Valuation allowance                                                           
(1,224)             (892)               
  Deferred tax assets, net of valuation allowance                               
10,738                          9,882  
  Deferred tax liabilities:                                                     
  Depreciation and amortization                                                 
(2,658)                        (2,122)  
  Operating lease right-of-use assets                                           
(1,097)             (859)               
  Other                                                              (561)      
(249)               
  Total deferred tax liabilities                                                
(4,316)                        (3,230)  
  Deferred tax assets (liabilities), net of valuation allowance      $          
6,422                 $        6,652  

As of December 31, 2024, we maintained valuation allowances of $1.22 billion for
deferred tax assets that are not more likely than not to be realized, which 
primarily included our California deferred tax assets, U. S. foreign tax credits
and certain foreign operating losses. The valuation allowance on our net 
deferred tax assets increased by $332 million during the year ended December 31,
2024, and decreased by $6.46 billion and $1.73 billion during the years ended 
December 31, 2023 and 2022, respectively. The valuation allowance increase 
during the year ended December 31, 2024 was primarily due to the changes of our 
California deferred tax assets, U. S. foreign tax credits and certain foreign 
operating losses. The change in valuation allowance during the year ended 
December 31, 2023 was primarily due to the release of our valuation allowance 
with respect to our U. S. federal and certain state deferred tax assets. In the 
fourth quarter of 2023, based on the relevant weight of positive and negative 
evidence, including the amount of our taxable income in recent years which was 
objective and verifiable, and consideration of our expected future taxable 
earnings, we concluded that it is more likely than not that most of our U. S. 
federal and certain state deferred tax assets are realizable and released the 
valuation allowance on these deferred tax assets. The valuation allowance change
during the years ended December 31, 2022 was primarily due to changes in our U. 
S. deferred tax assets and liabilities. Our deferred tax assets without a 
valuation allowance are more likely than not to be realized given the 
expectation of future earnings in the respective jurisdictions.

As of December 31, 2024, we had $4.34 billion of federal and $8.59 billion of 
state net operating loss carry-forwards available to offset future taxable 
income, an immaterial amount of which, if not utilized, will begin to expire in 
2026 for federal and 2025 for state purposes. Federal and state laws can impose 
substantial restrictions on the utilization of net operating loss and tax credit
carry-forwards in the event of an “ownership change,” as defined in Section 382 
of the Internal Revenue Code. We have determined that no significant limitation 
would be placed on the utilization of our net operating loss and tax credit 
carry-forwards due to prior ownership changes or expirations.

As of December 31, 2024, we had federal research and development tax credits of 
$1.48 billion, federal renewable energy tax credits of $1.01 billion, and state 
research and development tax credits of $1.06 billion. Most of our state 
research and development tax credits were in the state of California. If not 
utilized, some of the federal tax credits may expire in various amounts 
beginning in 2035. However, California research and development tax credits can 
be carried forward indefinitely.

As of December 31, 2024, we intend to indefinitely reinvest our foreign earnings
and cash unless such repatriation results in no or minimal tax costs. We have 
recorded the taxes associated with the foreign earnings we intend to repatriate 
in the future. For the earnings we intend to indefinitely reinvest, no deferred 
tax liabilities for foreign withholding or other taxes have been recorded. The 
estimated amount of such unrecognized withholding tax liability associated with 
the indefinitely reinvested earnings is approximately $309 million.

Uncertain Tax Positions

The changes to our gross unrecognized tax benefits were as follows (in 
millions):

  Increases in balances related to prior year tax positions                     
136             
 ───────────────────────────────────────────────────────────────────────────────
───────────────────
  December 31, 2021                                                             
$        531  
  Decreases in balances related to prior year tax positions                     
(12)             
  Increases in balances related to current year tax positions                   
222             
  Decreases in balances related to expiration of the statute of limitations     
(7)             
  December 31, 2022                                                             
870             
  Increases in balances related to prior year tax positions                     
59             
  Decreases in balances related to settlement with tax authorities              
(6)             
  Increases in balances related to current year tax positions                   
255             
  Decreases in balances related to expiration of the statute of limitations     
(4)             
  December 31, 2023                                                             
1,174  
  Increases in balances related to prior year tax positions                     
51             
  Decreases in balances related to prior year tax positions                     
(27)             
  Increases in balances related to current year tax positions                   
227             
  Decreases in balances related to settlement with tax authorities              
(4)             
  Decreases in balances related to expiration of the statute of limitations     
(4)             
  December 31, 2024                                                             
$      1,417  

We include interest and penalties related to unrecognized tax benefits in income
tax expense. We recognized net interest and penalties related to unrecognized 
tax benefits in provision for (benefit from) income taxes line of our 
consolidated statements of operations of $23 million, $17 million and $27 
million for the years ended December 31, 2024, 2023 and 2022, respectively. As 
of December 31, 2024, and 2023, we have accrued $69 million and $47 million, 
respectively, related to interest and penalties on our unrecognized tax 
benefits. Unrecognized tax benefits of $1.14 billion, if recognized, would 
affect our effective tax rate.

We file income tax returns in the U. S. and various state and foreign 
jurisdictions. We are currently under examination by the Internal Revenue 
Service (“IRS”) for the years 2015 to 2018. Additional tax years within the 
periods 2004 to 2014 and 2019 to 2023 remain subject to examination for federal 
income tax purposes. All net operating losses and tax credits generated to date 
are subject to adjustment for U. S. federal and state income tax purposes. Our 
returns for 2004 and subsequent tax years remain subject to examination in U. S.
state and foreign jurisdictions.

Given the uncertainty in timing and outcome of our tax examinations, an estimate
of the range of the reasonably possible change in gross unrecognized tax 
benefits within twelve months cannot be made at this time.
 |  |  |