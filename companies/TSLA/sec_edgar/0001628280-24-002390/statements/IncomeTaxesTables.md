## IncomeTaxesTables

**Year Ended**

|  | Dec 31, 2023 | Dec 31, 2022 | Dec 31, 2021 |
| --- | --- | --- | --- |
| **  Schedule of Income before Provision for Income Taxes** | Our income before (benefit from) provision for income taxes for the years ended 
December 31, 2023, 2022 and 2021 was as follows (in millions):

                                                                      Year Ended
December 31,                                                        
                                                                      2023      
2022                  2021             
 ───────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────
  Domestic                                                            $         
3,196      $          5,524      $         (130)  
  Noncontrolling interest and redeemable noncontrolling interest      (23)      
31                    125              
  Foreign                                                                       
6,800                 8,164                6,348  
  Income before income taxes                                          $         
9,973      $         13,719      $         6,343
 |  |  |
| **  Components of Provision for Income Taxes** | The components of the (benefit from) provision for income taxes for the years 
ended December 31, 2023, 2022 and 2021 consisted of the following (in millions):

                                                       Year Ended December 31,  
                                                       2023                     
2022                 2021   
 ───────────────────────────────────────────────────────────────────────────────
───────────────────────────────────────────────
  Current:                                                                      
  Federal                                              $                        
48          $          —      $      
  State                                                57                       
62                 9      
  Foreign                                                                       
1,243                 1,266      839    
  Total current                                                                 
1,348                 1,328      848    
  Deferred:                                                                     
  Federal                                                                       
(5,246)         26                 —      
  State                                                (653)                    
1                 —      
  Foreign                                              (450)                    
(223)                 (149)  
  Total deferred                                                                
(6,349)      (196)                 (149)  
  Total (Benefit from) provision for income taxes      $                        
(5,001)          $      1,132      $
 |  |  |
| **  Schedule of Reconciliation of Taxes at Federal Statutory Rate to Provision for Income Taxes** | The reconciliation of taxes at the federal statutory rate to our (benefit from) 
provision for income taxes for the years ended December 31, 2023, 2022 and 2021 
was as follows (in millions):

                                                               Year Ended 
December 31,                                                               
                                                                                
  2023                    2022                    2021               
 ───────────────────────────────────────────────────────────────────────────────
──────────────────────────────────────────────────────────────────────
  Tax at statutory federal rate                                                 
$        2,094          $        2,881          $        1,332  
  State tax, net of federal benefit                                             
(372)                      51                       6               
  Nondeductible executive compensation                                          
23                      14                     201               
  Excess tax benefits related to stock-based compensation                       
(288)                   (745)                              (7,123)  
  Nontaxable manufacturing credit                                               
(101)                       —                       —               
  Foreign income rate differential                                              
(816)                   (923)                   (668)               
  U. S. tax credits                                                             
(593)                   (276)                   (328)               
  GILTI inclusion                                                               
670                                1,279                   1,008  
  Unrecognized tax benefits                                                     
183                     252                      28               
  Change in valuation allowance                                                 
(5,962)                 (1,532)                   6,165  
  Other                                                                         
161                     131                      78               
  (Benefit from) provision for income taxes                                     
$      (5,001)          $        1,132          $          699
 |  |  |
| **  Schedule of Deferred Tax Assets (Liabilities)** | Deferred tax assets (liabilities) as of December 31, 2023 and 2022 consisted of 
the following (in millions):

                                                                     December 
31,                   December 31,               
  Deferred tax assets:                                                          
  Net operating loss carry-forwards                                             
$        2,826                 $        4,486  
  Research and development credits                                              
1,358                          1,184  
  Other tax credits and attributes                                            
827                            217               
  Deferred revenue                                                              
1,035               751               
  Inventory and warranty reserves                                               
1,258               819               
  Stock-based compensation                                                    
230                            185               
  Operating lease right-of-use liabilities                                    
930                            554               
  Capitalized research and development costs                                    
1,344               693               
  Deferred GILTI tax assets                                                   
760                            466               
  Accruals and others                                                         
206                            178               
  Total deferred tax assets                                                     
10,774                          9,533  
  Valuation allowance                                                       
(892)                                     (7,349)  
  Deferred tax assets, net of valuation allowance                               
9,882                          2,184  
  Deferred tax liabilities:                                                     
  Depreciation and amortization                                                 
(2,122)                        (1,178)  
  Investment in certain financing funds                                     
(133)                          (238)               
  Operating lease right-of-use assets                                       
(859)                          (506)               
  Other                                                                     
(116)                           (15)               
  Total deferred tax liabilities                                                
(3,230)                        (1,937)  
  Deferred tax assets (liabilities), net of valuation allowance                 
$        6,652                 $          247
 |  |  |
| **  Schedule of Changes to Gross Unrecognized Tax Benefits** | The changes to our gross unrecognized tax benefits were as follows (in 
millions):

  Increases in balances related to prior year tax positions                     
117             
 ───────────────────────────────────────────────────────────────────────────────
───────────────────
  December 31, 2020                                                             
$        380  
  Decreases in balances related to prior year tax positions                     
(90)             
  Increases in balances related to current year tax positions                   
124             
  December 31, 2021                                                             
531             
  Increases in balances related to prior year tax positions                     
136             
  Decreases in balances related to prior year tax positions                     
(12)             
  Increases in balances related to current year tax positions                   
222             
  Decreases in balances related to expiration of the statute of limitations     
(7)             
  December 31, 2022                                                             
870             
  Increases in balances related to prior year tax positions                     
59             
  Decreases related to settlement with tax authorities                          
(6)             
  Increases in balances related to current year tax positions                   
255             
  Decreases in balances related to expiration of the statute of limitations     
(4)             
  December 31, 2023                                                             
$      1,174
 |  |  |