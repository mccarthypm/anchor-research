## DisclosureIncomeTaxesTables

**Year Ended**

|  | Dec 31, 2019 | Dec 31, 2018 | Dec 31, 2017 |
| --- | --- | --- | --- |
| **  Schedule of Loss before Provision For Income Taxes** | Year Ended December 31,                                                     
                                              2019                              
2018                 2017             
 ───────────────────────────────────────────────────────────────────────────────
───────────────────────────────────────────
  Domestic                                    $                            287  
$           412      $           993  
  Noncontrolling interest and redeemable                                   (87  
87                  279  
  Foreign                                                                  465  
506                  937  
  Loss before income taxes                    $                            665  
$         1,005      $         2,209
 |  |  |
| **  Components of Provision for Income Taxes** | The components of the provision for income taxes for the years ended December 
31, 2019, 2018 and 2017 consisted of the following (in millions):

                                        Year Ended December 31,                 
                                        2019                                  
2018              2017           
 ───────────────────────────────────────────────────────────────────────────────
────────────────────────────────
  Current:                                                                      
  Federal                               $                              —      $ 
(1      $         (10  
  State                                                                5        
3                  2  
  Foreign                                                             86        
24                 43  
  Total current                                                       91        
26                 35  
  Deferred:                                                                     
  Federal                                                             (4        
—                  —  
  State                                                                —        
—                  —  
  Foreign                                                             23        
32                 (3  
  Total deferred                                                      19        
32                 (3  
  Total provision for income taxes      $                            110      $ 
58      $          32
 |  |  |
| **  Schedule of Deferred Tax Assets (Liabilities)** | Deferred tax assets (liabilities) as of December 31, 2019 and 2018 consisted of 
the following (in millions):

                                                            December 31,      
December 31,  
                                                                    2019        
2018  
 ───────────────────────────────────────────────────────────────────────────────
─────────────
  Deferred tax assets:                                                          
  Net operating loss carry-forwards                               $1,846        
$1,760  
  Research and development credits                                   486        
377  
  Other tax credits                                                  126        
128  
  Deferred revenue                                                   301        
156  
  Inventory and warranty reserves                                    243        
165  
  Stock-based compensation                                           102        
102  
  Operating lease right-of-use liabilities                           290        
—  
  Accruals and others                                                 16        
28  
  Total deferred tax assets                                        3,410        
2,716  
  Valuation allowance                                             (1,956        
(1,806  
  Deferred tax assets, net of valuation allowance                  1,454        
910  
  Deferred tax liabilities:                                                     
  Depreciation and amortization                                   (1,185        
(861  
  Investment in certain financing funds                              (17        
(33  
  Operating lease right-of-use assets                               (263        
—  
  Other                                                              (24        
(24  
  Total deferred tax liabilities                                  (1,489        
(918  
  Deferred tax liabilities, net of valuation allowance              $(35        
$(8
 |  |  |
| **  Schedule of Reconciliation of Taxes at Federal Statutory Rate to Provision for Income Taxes** | The reconciliation of taxes at the federal statutory rate to our provision for 
income taxes for the years ended December 31, 2019, 2018 and 2017 was as follows
(in millions):

                                                  Year Ended December 31,       
                                                                     2019       
2018        2017  
  Tax at statutory federal rate                                     $(139      
$(211       $(773  
 ───────────────────────────────────────────────────────────────────────────────
───────────────────
  State tax, net of federal benefit                                     5       
3           2  
  Nondeductible expenses                                               94       
65          30  
  Excess tax benefits related to stock based                           (7       
(44      (1,013  
  Foreign income rate differential                                    189       
161         365  
  U. S. tax credits                                                  (107       
(80        (110  
  Noncontrolling interests and redeemable                             (29       
32          66  
  Effect of U. S. tax law change                                        —       
—         723  
  Bargain in purchase gain                                              —       
—          20  
  Convertible debt                                                     (4       
—           —  
  Unrecognized tax benefits                                            17       
1           3  
  Change in valuation allowance                                        91       
131         719  
  Provision for income taxes                                         $110       
$58         $32
 |  |  |
| **  Schedule of Changes to Gross Unrecognized Tax Benefits** | The changes to our gross unrecognized tax benefits were as follows (in 
millions):

  December 31, 2016                                                  204  
  Decreases in balances related to prior year tax positions          (31  
  Increases in balances related to current year tax                   84  
  Changes in balances related to effect of U. S. tax law change      (58  
  December 31, 2017                                                  199  
  Decreases in balances related to prior year tax positions           (6  
  Increases in balances related to current year tax                   60  
  December 31, 2018                                                  253  
  Decreases in balances related to prior year tax positions          (39  
  Increases in balances related to current year tax                   59  
  December 31, 2019                                                  273
 |  |  |